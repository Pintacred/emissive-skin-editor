<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Emissive Skin RP Editor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./icon.png">
    <script type="importmap">
    {
        "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.148.0/build/three.module.js"
        }
    }
    </script>
</head>

<body>
    <img src="./Assets/steve_default.png" id="steveDefault" style="display: none;">

    <div style="display: flex;">
        <div style="width: 50%;">
            <h1 style="margin: auto;">Emissive Skin Resource Pack Editor <span id="version"
                    style="color: #ace280; font-size: 14px;">versionNotFound</span></h1>
            <h4 style="margin: auto;">for Bedrock Edition only</h4>
        </div>
        <div style="width: 50%; text-align: right;">
            <a href="https://github.com/Pintacred/emissive-skin-editor" style="color: #ace280;">> check out the source code</a>
        </div>
    </div>

    <div class="row">
        <div class="centerAlign">
            <div class="leftSide">
                <button type="button" class="squareBtn" id="buttonDrawGlow" title="Draw glow (1)"></button>
                <br><br>
                <button type="button" class="squareBtn" id="buttonEraseGlow" title="Erase glow (2)"></button>
                <br><hr>
                
                <div>
                    <div>
                        <button type="button" class="squareBtn" id="buttonUndo"
                            title="Undo (ctrl + Z)"></button>
                        <p id="numOfUndos">0</p>
                    </div>
                    <br>
                    <div>
                        <button type="button" class="squareBtn" id="buttonRedo"
                            title="Redo (ctrl + Y)"></button>
                        <p id="numOfRedos">0</p>
                    </div>
                </div>
                <hr>
                <button type="button" class="squareBtn" id="buttonResetEmissiveMap"
                    title="Reset/clear emissive map"></button>
                <br><br>
                <button type="button" class="squareBtn" id="buttonResetCamPos"
                    title="Reset camera position and angle"></button>
            </div>
            <div class="middleSide">
                <!-- renderer -->
                <div style="position: relative; width: 600px; height: 600px;">
                    <canvas class="layeredCanvas" width="600" height="600"
                        style="background-image: url(Assets/checkerboard_bg_dark.png);"></canvas>

                    <canvas class="layeredCanvas" id="lightCheckerboardCanvas" width="600" height="600"
                        style="background-image: url(Assets/checkerboard_bg_light.png);"></canvas>

                    <canvas class="layeredCanvas webgl" width="600" height="600"></canvas>
                </div>
            </div>
            <div class="rightSide">
                <label for="cameraLighting">Camera Light Brightness:</label><br>
                <input class="sliderLighting" id="cameraLighting" name="cameraLighting" type="range"
                    style="width: 100px;" min="0" max="1" step="0.01" value="0.72">
                <br><br>
                <label for="roomBrightness">Room Brightness:</label><br>
                <input class="sliderLighting" id="roomBrightness" name="roomBrightness" type="range"
                    style="width: 100px;" min="0" max="1" step="0.01" value="0.08">
                <br><br>
                <label for="checkboxGrids">Toggle Grid Guides:</label>
                <div id="checkboxGrids">
                    <input type="checkbox" id="checkboxGridInner" name="checkboxGridInner">
                    <label for="checkboxGridInner">Inner Layer Grid</label>
                    <br>
                    <input type="checkbox" id="checkboxGridOuter" name="checkboxGridOuter" checked>
                    <label for="checkboxGridOuter">Outer Layer Grid</label>
                </div>

                <br>
                <select name="armModeSelection" id="armModeSelection">
                    <option value="wide">Wide Arms (4px)</option>
                    <option value="thin">Thin Arms (3px)</option>
                </select>
                <br><br>
                <label for="layers">Toggle Body Parts:</label>
                <div id="layers">
                    <div class="layers2">
                        <form id="layersInner">
                            <input type="checkbox" id="checkboxHead" name="checkboxHead" value="Head" checked>
                            <label for="checkboxHead">Head</label><br>

                            <input type="checkbox" id="checkboxBody" name="checkboxBody" value="Body" checked>
                            <label for="checkboxBody">Body</label><br>

                            <input type="checkbox" id="checkboxArmRight" name="checkboxArmRight" value="ArmRight"
                                checked>
                            <label for="checkboxArmRight">Right Arm</label><br>

                            <input type="checkbox" id="checkboxArmLeft" name="checkboxArmLeft" value="ArmLeft" checked>
                            <label for="checkboxArmLeft">Left Arm</label><br>

                            <input type="checkbox" id="checkboxLegRight" name="checkboxLegRight" value="LegRight"
                                checked>
                            <label for="checkboxLegRight">Right Leg</label><br>

                            <input type="checkbox" id="checkboxLegLeft" name="checkboxLegLeft" value="LegLeft" checked>
                            <label for="checkboxLegLeft">Left Leg</label><br>
                        </form>
                    </div>
                    <div class="layers2">
                        <form id="layersOuter">
                            <input type="checkbox" id="checkboxHat" name="checkboxHat" value="Hat" checked>
                            <label for="checkboxHat">Hat</label><br>

                            <input type="checkbox" id="checkboxJacket" name="checkboxJacket" value="Jacket" checked>
                            <label for="checkboxJacket">Jacket</label><br>

                            <input type="checkbox" id="checkboxSleeveRight" name="checkboxSleeveRight"
                                value="SleeveRight" checked>
                            <label for="checkboxSleeveRight">Right Sleeve</label><br>

                            <input type="checkbox" id="checkboxSleeveLeft" name="checkboxSleeveLeft" value="SleeveLeft"
                                checked>
                            <label for="checkboxSleeveLeft">Left Sleeve</label><br>

                            <input type="checkbox" id="checkboxPantsRight" name="checkboxPantsRight" value="PantsRight"
                                checked>
                            <label for="checkboxPantsRight">Right Pants</label><br>

                            <input type="checkbox" id="checkboxPantsLeft" name="checkboxPantsLeft" value="PantsLeft"
                                checked>
                            <label for="checkboxPantsLeft">Left Pants</label><br>
                        </form>
                    </div>
                </div>
                <br>
                <label for="inputSkin">Upload Skin:</label><br>
                <input id="inputSkin" type="file" accept="image/png" required autocomplete="off">
                <br><br>
                <label for="inputEmissive">Upload Emissive Map (Optional):</label>
                <br>
                <input id="inputEmissive" type="file" accept="image/png" required autocomplete="off">
                <br><br>
                <button id="downloadBtn">Download resource pack</button>
            </div>
        </div>
    </div>

    <br>
    <hr>


    <h2>What is this for?</h2>
    <p>
        This editor is for Emissive Skin Resource Pack for Bedrock Edition (created by me, Pintacred).
    </p>

    <h2>How to Use:</h2>
    <p>
        Movement: Left-click to rotate around the model. Right click to pan around it. Scroll to zoom.
        <br>
        After you're done editing, download the mcpack and apply it to Bedrock Edition and select what arm
        type to use.
    </p>
    <p>
        Sadly it is not compatible with other resource packs that also use the player entity file.
    </p>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script type="module" src="./main.js" defer></script>
    <script type="module" src="./download.js" defer></script>
</body>

</html>